@page
@model DiscoverModel

<h2>Suggested Cats to Chat With</h2>

@if (Model.MatchingCats.Any())
{
    <div class="cat-grid">
        @foreach (var match in Model.MatchingCats)
        {
            <div class="cat-card">
                <img src="@match.Cat.ImagePath" alt="@match.Cat.Name" class="cat-image" />
                <p><strong>@match.Cat.Name</strong></p>

                <p><em>Matched with your cat(s):</em></p>
                <ul>
                    @foreach (var myCat in match.MatchingMyCats)
                    {
                        <li>@myCat.Name</li>
                    }
                </ul>

                <p><em>Common fields:</em></p>
                <ul>
                    @foreach (var field in match.CommonFields)
                    {
                        <li>@field</li>
                    }
                </ul>
            </div>
        }
    </div>
}
else
{
    <p>No matches found yet. Try updating your cat's profile or wait for new users to join!</p>
}

<style>
    .cat-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .cat-card {
        border: 1px solid #ccc;
        padding: 0.5rem;
        border-radius: 0.5rem;
        width: 150px;
        text-align: center;
    }

    .cat-image {
        width: 100%;
        border-radius: 0.5rem;
    }
</style>